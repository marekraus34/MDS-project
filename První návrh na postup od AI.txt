ğŸ§© FÃ¡ze 1: ZÃ¡klady prÃ¡ce s webkamerou a mikrofÃ³nem (frontend)

CÃ­l: NauÄit se pouÅ¾Ã­vat MediaStream API.

â¡ï¸ Zkus jednoduchou strÃ¡nku v HTML/JS, kterÃ¡:

po kliknutÃ­ na tlaÄÃ­tko spustÃ­ kameru a mikrofon,

zobrazÃ­ nÃ¡hled videa v <video> elementu,

umoÅ¾nÃ­ ztlumit mikrofon (track.enabled = false).

ğŸ“˜ K tomu si prostuduj:
Media Capture and Streams API

ğŸ’¡ Tip:
PouÅ¾ij navigator.mediaDevices.getUserMedia({ video: true, audio: true }).

ğŸ”„ FÃ¡ze 2: ZÃ¡klady WebRTC pÅ™enosu

CÃ­l: Pochopit, jak posÃ­lat video v reÃ¡lnÃ©m Äase mezi dvÄ›ma klienty nebo klientem a serverem.

â¡ï¸ UdÄ›lej malÃ½ pÅ™Ã­klad:

jeden â€senderâ€œ (kamera),

jeden â€receiverâ€œ (zobrazÃ­ video na strÃ¡nce).

PouÅ¾ij jednoduchÃ½ Node.js server pro signalizaci (pomocÃ­ Socket.IO nebo WebSocket).
ZatÃ­m nemusÃ­Å¡ nic uklÃ¡dat â€” jen zobraz, Å¾e se obraz skuteÄnÄ› pÅ™enÃ¡Å¡Ã­.

ğŸ“˜ K tomu:

WebRTC tutorial MDN

VyzkouÅ¡ej si knihovnu simple-peer â€“ hodnÄ› zjednoduÅ¡Ã­ zÃ¡kladnÃ­ WebRTC propojenÃ­.

âš™ï¸ FÃ¡ze 3: Backend â€“ pÅ™Ã­jem streamu a tvorba HLS

CÃ­l: NauÄit se, jak vytvoÅ™it HLS stream pomocÃ­ Nginx a FFmpeg.

â¡ï¸ Postup:

Nainstaluj nginx + nginx-rtmp-module.

Zkus poslat RTMP stream z OBS nebo ffmpeg.

Nech ffmpeg pÅ™evÃ¡dÄ›t RTMP â†’ HLS playlist (.m3u8 + .ts fragmenty).

ğŸ’¡ NapÅ™. pÅ™Ã­kaz:

ffmpeg -i rtmp://localhost/live/stream -c:v libx264 -c:a aac -f hls -hls_time 4 -hls_playlist_type event /path/to/hls/output.m3u8


ZatÃ­m mÅ¯Å¾eÅ¡ posÃ­lat cokoliv (napÅ™. z testovacÃ­ho souboru) â€” nemusÃ­ to bÃ½t jeÅ¡tÄ› z WebRTC.

ğŸ§  FÃ¡ze 4: Kompozice vÃ­ce kamer

CÃ­l: SlouÄit vÃ­ce video streamÅ¯ do mÅ™Ã­Å¾ky pomocÃ­ FFmpeg.

â¡ï¸ AÅ¾ zvlÃ¡dneÅ¡ zÃ¡klady HLS, mÅ¯Å¾eÅ¡ zkouÅ¡et:

kombinovat vÃ­ce RTMP vstupÅ¯ do jednoho vÃ½stupu (napÅ™. 2â€“4 testovacÃ­ videa),

pÅ™idat textovÃ© popisky (drawtext filter),

vytvoÅ™it dynamickÃ© rozloÅ¾enÃ­.

UkÃ¡zka jednoduchÃ© mÅ™Ã­Å¾ky:

ffmpeg -i cam1.ts -i cam2.ts -filter_complex "[0:v][1:v]hstack=inputs=2[v]" -map "[v]" output.mp4

ğŸŒ FÃ¡ze 5: WebovÃ© rozhranÃ­ pro pÅ™ehrÃ¡vÃ¡nÃ­ HLS

CÃ­l: VytvoÅ™it strÃ¡nku, kterÃ¡ umÃ­ pÅ™ehrÃ¡t HLS a zobrazit informace o pÅ™ipojenÃ½ch uÅ¾ivatelÃ­ch.

â¡ï¸ PouÅ¾ij knihovnu Video.js s pluginem videojs-http-streaming.
Na zaÄÃ¡tek ti staÄÃ­ prostÃ½ <video> s odkazem na .m3u8.

ğŸ’¡ TestovacÃ­ server pro vÃ½voj:
pouÅ¾ij http-server (Node.js) nebo vestavÄ›nÃ½ nginx.

ğŸ§± FÃ¡ze 6: Integrace a zabezpeÄenÃ­

CÃ­l: Spojit vÅ¡e dohromady:

WebRTC â†’ server (RTMP) â†’ FFmpeg â†’ HLS â†’ player.

Autorizace (napÅ™. jmÃ©no, token).

DynamickÃ¡ aktualizace seznamu pÅ™ipojenÃ½ch uÅ¾ivatelÅ¯ (pÅ™es WebSockety).

Pokud chceÅ¡, mÅ¯Å¾u ti pÅ™ipravit:

ğŸ—‚ strukturu projektu (adresÃ¡Å™e, zÃ¡kladnÃ­ HTML + Node.js skript)

ğŸ“œ plÃ¡n uÄenÃ­ na prvnÃ­ 2 tÃ½dny,
abys zaÄal reÃ¡lnÄ› nÄ›co tvoÅ™it i bez pokroÄilÃ½ch znalostÃ­.